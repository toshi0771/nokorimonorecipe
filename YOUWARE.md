# YOUWARE.md

冷蔵庫残り物レシピ提案アプリ - 材料入力型レシピ生成システム

## プロジェクト概要

### 機能概要
- 冷蔵庫の余り物材料からレシピを自動生成するWebアプリケーション
- 材料入力に基づくリアルタイムレシピ生成
- 2カラムレイアウトによる直感的なUI/UX
- 人数に応じた分量自動調整機能

### 主要機能
1. **材料ベースレシピ生成**
   - ユーザーが入力した材料に基づいて自動でレシピを3つ生成
   - 材料の種類（卵、野菜、ご飯等）に応じたカテゴリ自動判定
   - 重複防止機能付きレシピ生成

2. **動的材料管理システム**
   - 材料名と分量の入力フォーム
   - リアルタイム材料追加・削除
   - 材料変更時の自動レシピ再生成

3. **レシピ詳細表示・管理**
   - 選択したレシピの詳細情報表示
   - 人数に応じた分量自動調整機能
   - チェックボックスによる複数レシピ選択・削除
   - ステップバイステップの調理手順

4. **使い方ガイド**
   - アプリ上部に使い方説明を表示
   - 新規ユーザー向けの分かりやすい操作手順

## 技術スタック

### コア技術
- **React**: 18.3.1 - メインフレームワーク
- **TypeScript**: 5.8.3 - 型安全性
- **Vite**: 7.0.0 - ビルドツール
- **Tailwind CSS**: 3.4.17 - スタイリング

### 状態管理・UI
- **Zustand**: 4.4.7 - 軽量状態管理
- **Lucide React**: 0.533.0 - アイコンライブラリ

## プロジェクト構成

### ディレクトリ構造
```
src/
├── components/
│   └── RecipeApp.tsx          # メインアプリケーションコンポーネント
├── store/
│   └── recipeStore.ts         # Zustandストア（材料ベースレシピ生成）
├── types/
│   └── recipe.ts              # TypeScript型定義
├── data/
│   └── sampleRecipes.ts       # レシピバリエーションデータ
├── App.tsx                    # アプリケーションエントリポイント
└── main.tsx                   # React DOM レンダリング
```

### 主要コンポーネント

#### RecipeApp.tsx
- 使い方説明セクション（アプリ上部）
- 2カラムレイアウトのメインコンポーネント
- 左カラム: 生成レシピ表示 + 材料入力フォーム
- 右カラム: 選択レシピ詳細表示
- 下部: 機能ボタン（追加・削除・クリア）

#### recipeStore.ts - 材料ベース生成システム
- `generatedRecipes`: 生成されたレシピ一覧
- `generateRecipesFromIngredients()`: 材料に基づく自動レシピ生成
- `generateRecipeFromIngredients()`: 単一レシピ生成ロジック
- 材料の種類に応じたカテゴリ自動判定機能
- 重複防止ロジック付きレシピ生成

#### データ構造
```typescript
interface Recipe {
  id: string;
  name: string;
  ingredients: Ingredient[];
  instructions: string[];
  servings: number;
  cookingTime: string;
  category: string;
}

interface UserIngredient {
  name: string;
  amount: string;
}
```

## 開発・ビルドコマンド

### 依存関係インストール
```bash
npm install
```

### プロダクションビルド
```bash
npm run build
```

### ⚠️ 重要: エントリポイント保護
- `index.html`内の`<script type="module" src="/src/main.tsx"></script>`を絶対に変更しないこと
- この行を変更するとアプリケーションが動作しなくなります

## レシピ生成システム

### 材料ベース生成ロジック
1. **カテゴリ自動判定**
   - 卵が含まれる → 卵料理
   - ご飯・米が含まれる → ご飯もの  
   - 豆腐・わかめが含まれる → 汁物
   - その他 → 野菜料理

2. **調味料自動追加**
   - カテゴリに応じた基本調味料を自動で追加
   - 野菜料理: 醤油、ごま油、塩
   - 卵料理: 塩、こしょう、油
   - ご飯もの: 醤油、ごま油、塩
   - 汁物: だしの素、醤油、水

3. **調理手順生成**
   - カテゴリに応じた基本的な調理手順を自動生成
   - ユーザー入力材料を考慮した手順構成

### 重複防止機能
- 既存レシピとの名前重複チェック
- 最大10回まで異なる名前で再試行
- カテゴリ別バリエーション名から選択

## アプリケーション仕様

### ユーザーフロー
1. アプリ上部の使い方を確認
2. 左カラム下段で材料を入力・登録（例：キャベツ、卵、豆腐）
3. 材料入力時に自動で左カラム上段にレシピが3つ生成表示
4. 人数を選択（1-6人前）
5. レシピをクリックして右カラムで詳細確認
6. 必要に応じて新しいレシピを追加・削除

### リアルタイム生成機能
- `useEffect`による材料変更の監視
- 材料追加・削除時の自動レシピ再生成
- 生成されたレシピの即座表示

### 分量調整機能
- 選択した人数に応じて自動的に材料分量を計算
- 数値部分を抽出して比例計算
- 分数表記（1/2等）にも対応

## デザイン特徴

### カラーパレット
- メインカラー: オレンジ系（#f97316, #fb923c）
- 背景: 暖色グラデーション（orange-50 to yellow-50）
- アクセント: ブルー系（使い方説明部分）、グレー系、グリーン系

### UI/UX設計原則
- 使い方説明の目立つ配置（青色背景）
- レスポンシブデザイン（モバイル・デスクトップ対応）
- 直感的な2カラムレイアウト
- 視覚的フィードバック（ホバー効果、選択状態）
- アクセシビリティを考慮したコントラスト

## 今後の拡張可能性

### 追加可能機能
- AI を活用したより高度なレシピ生成
- レシピのお気に入り機能
- 材料の栄養情報表示
- レシピ画像の自動生成・表示
- 調理動画の提案
- ユーザーレビュー・評価機能
- データの永続化（データベース連携）

### パフォーマンス最適化
- レシピ生成のデバウンス処理
- 仮想スクロール（大量レシピ対応）
- メモ化によるレンダリング最適化